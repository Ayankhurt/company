/* Root variables (from your original code) - keeping these as is */
:root {
  --_colors---primary--p500: #191919;
  --heading-1--font-family: "Funnel Display", sans-serif;
  --heading-1--font-size: 128px;
  --heading-1--line-height: 1.24em;
  --heading-1--font-weight: 800;
  --heading-1--letter-spacing: -0.02em;
  --heading-2--font-family: "Funnel Display", sans-serif;
  --heading-2--font-size: 48px;
  --heading-2--line-height: 1.24em;
  --heading-2--font-weight: 700;
  --heading-2--letter-spacing: -0.02em;
  --heading-3--font-family: "Funnel Display", sans-serif;
  --heading-3--font-size: 36px;
  --heading-3--line-height: 1.28em;
  --heading-3--font-weight: 700;
  --heading-3--letter-spacing: -0.02em;
  --heading-4--font-family: "Funnel Display", sans-serif;
  --heading-4--font-size: 28px;
  --heading-4--line-height: 1.32em;
  --heading-4--font-weight: 700;
  --heading-4--letter-spacing: -0.02em;
  --heading-5--font-family: "Funnel Display", sans-serif;
  --heading-5--font-size: 24px;
  --heading-5--line-height: 1.36em;
  --heading-5--font-weight: 600;
  --heading-5--letter-spacing: -0.02em;
  --heading-6--font-family: "Funnel Display", sans-serif;
  --heading-6--font-size: 20px;
  --heading-6--line-height: 1.4em;
  --heading-6--font-weight: 500;
  --heading-6--letter-spacing: -0.02em;
  --_colors---neutral--n600: #757575;
  --heading-7--font-family: "Funnel Display", sans-serif;
  --heading-7--font-size: 18px;
  --heading-7--line-height: 1.44em;
  --heading-7--font-weight: 500;
  --heading-7--letter-spacing: -0.02em;
  --body-text-1--font-family: "Rethink Sans", sans-serif;
  --body-text-1--font-size: 16px;
  --body-text-1--line-height: 1.5em;
  --body-text-1--font-weight: 400;
  --body-text-1--letter-spacing: -0.03em;
  --button-1--font-family: "Rethink Sans", sans-serif;
  --button-1--font-size: 20px;
  --button-1--line-height: 1.2em;
  --button-1--font-weight: 500;
  --button-1--letter-spacing: -0.02em;
  --button-2--font-family: "Rethink Sans", sans-serif;
  --button-2--font-size: 16px;
  --button-2--line-height: 1.2em;
  --button-2--font-weight: 500;
  --button-2--letter-spacing: -0.02em;
  --button-3--font-family: "Rethink Sans", sans-serif;
  --button-3--font-size: 14px;
  --button-3--line-height: 1.2em;
  --button-3--font-weight: 500;
  --button-3--letter-spacing: -0.02em;
  --font-weights--bold: 700;
  --font-weights--extra-bold: 800;
  --_colors---neutral--n100: white;
  --_colors---neutral--n500: #9e9e9e;
  --_colors---neutral--n400: #bdbdbd;
  --_colors---neutral--n700: #616161;
  --_colors---primary--p100: #f2f2f2;
  --line-heights--100: 1em;
  --special-text--font-family: "Funnel Display", sans-serif;
  --special-text--font-size: 140px;
  --special-text--line-height: 0.9em;
  --special-text--font-weight: 800;
  --special-text--letter-spacing: -0.02em;
  --font-families--heading: "Inter", sans-serif;
  --font-families--body: "Rethink Sans", sans-serif;
  --_colors---accent--a100: #f6feeb;
  --_colors---accent--a200: #ecfed8;
  --_colors---accent--a300: #defdc4;
  --_colors---accent--a400: #d0fcb5;
  --_colors---accent--a600: #8cd772;
  --_colors---accent--a700: #62b44f;
  --_colors---accent--a800: #3d9132;
  --_colors---accent--a500: #bbfb9d;
  --_colors---primary--p200: #e6e6e6;
  --_colors---primary--p300: #b5b5b5;
  --_colors---primary--p400: #6c6c6c;
  --_colors---accent--a900: #23781e;
  --_colors---neutral--n200: #f1f1f1;
  --_colors---neutral--n300: #dfdfdf;
  --_colors---neutral--n800: #444;
  --_colors---neutral--n900: #212121;
  --_colors---alerts-success--s100: #cdfdd4;
  --_colors---alerts-success--s200: #9cfcb4;
  --_colors---alerts-success--s300: #6af89c;
  --_colors---alerts-success--s400: #45f293;
  --_colors---alerts-success--s500: #0bea86;
  --_colors---alerts-success--s600: #08c985;
  --_colors---alerts-success--s700: #05a87f;
  --_colors---alerts-success--s800: #038774;
  --_colors---alerts-success--s900: #02706a;
  --_colors---alerts-error--e100: #ffeada;
  --_colors---alerts-error--e200: #ffd0b6;
  --_colors---alerts-error--e300: #ffb091;
  --_colors---alerts-error--e400: #ff9176;
  --_colors---alerts-error--e500: #ff5f49;
  --_colors---alerts-error--e600: #db3c35;
  --_colors---alerts-error--e700: #b7242a;
  --_colors---alerts-error--e800: #931725;
  --_colors---alerts-error--e900: #7a0e23;
  --_colors---alerts-warning--w100: #fffcd9;
  --_colors---alerts-warning--w200: #fff8b4;
  --_colors---alerts-warning--w300: #fff38e;
  --_colors---alerts-warning--w400: #ffee72;
  --_colors---alerts-warning--w500: #ffe644;
  --_colors---alerts-warning--w600: #dbc231;
  --_colors---alerts-warning--w700: #b79f22;
  --_colors---alerts-warning--w800: #937d15;
  --_colors---alerts-warning--w900: #7a650d;
  --font-weights--thin: 100;
  --font-weights--extra-light: 200;
  --font-weights--light: 300;
  --font-weights--normal: 400;
  --font-weights--medium: 500;
  --font-weights--semi-bold: 600;
  --font-weights--black: 900;
  --_colors---alerts-info--i100: #d2ebfe;
  --font-sizes--8px: 8px;
  --font-sizes--10px: 10px;
  --_colors---alerts-info--i200: #a6d4fe;
  --font-sizes--12px: 12px;
  --_colors---alerts-info--i300: #79b8fc;
  --font-sizes--14px: 14px;
  --font-sizes--16px: 16px;
  --font-sizes--18px: 18px;
  --font-sizes--20px: 20px;
  --font-sizes--24px: 24px;
  --font-sizes--28px: 28px;
  --font-sizes--36px: 36px;
  --font-sizes--48px: 48px;
  --font-sizes--64px: 64px;
  --font-sizes--128px: 128px;
  --font-sizes--140px: 140px;
  --line-heights--100: 1em;
  --line-heights--90: 0.9em;
  --line-heights--124: 1.24em;
  --line-heights--128: 1.28em;
  --line-heights--132: 1.32em;
  --line-heights--136: 1.36em;
  --line-heights--140: 1.4em;
  --line-heights--144: 1.44em;
  --line-heights--150: 1.5em;
  --letter-spacings--3: -0.03em;
  --letter-spacings--2: -0.02em;
  --_colors---alerts-info--i400: #589ffa;
  --_colors---alerts-info--i500: #2277f7;
  --_colors---alerts-info--i600: #185cd4;
  --_colors---alerts-info--i700: #1144b1;
  --_colors---alerts-info--i800: #0a2f8f;
  --_colors---alerts-info--i900: #062176;
  --body-text-2--font-family: "Rethink Sans", sans-serif;
  --body-text-2--font-weight: 400;
  --body-text-2--font-size: 14px;
  --body-text-2--line-height: 1.5em;
  --body-text-2--letter-spacing: -0.03em;
  --button-4--font-family: "Rethink Sans", sans-serif;
  --button-4--font-weight: 500;
  --button-4--font-size: 12px;
  --button-4--line-height: 1.2em;
  --button-4--letter-spacing: -0.02em;
}

/* Service Items Container (wrapper for all three service blocks) */
.service-items-container {
  padding: 4rem 1rem; /* Default padding for mobile */
  background-color: #1a1a1a; /* Match the Services section background */
  color: #ffffff;
  display: flex; /* Use flexbox for the container */
  flex-direction: column; /* Stack items vertically on mobile */
  gap: 4rem; /* Space between each service item */
}

/* Individual Service Block */
.service {
  display: flex;
  flex-direction: column; /* Stack elements vertically on mobile */
  align-items: center; /* Center content horizontally */
  justify-content: center;
  position: relative; /* For image positioning */
  overflow: hidden; /* Hide overflowing parts of images if needed */
  min-height: 80vh; /* Ensure enough height for content on mobile */
  padding: 2rem 1rem; /* Padding inside each service block */
  box-sizing: border-box;
}

/* Inner wrapper for GSAP animation */
.service-inner-wrapper {
  width: 100%;
  height: 100%; /* Ensure inner wrapper fills height to contain images */
  display: flex;
  flex-direction: column; /* Stack vertically by default */
  align-items: center;
  justify-content: center;
  gap: 2rem; /* Gap between top, title, and bottom sections */
}

/* Service Top and Bottom sections (for images and meta text) */
.service_top,
.service_bottom {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  position: relative; /* Crucial for absolute positioning of child images */
  /* Mobile height for image sections, ensures image has space */
  min-height: 200px; /* Minimum height for images */
  aspect-ratio: 4 / 3; /* Give a default aspect ratio for mobile images */
}

/* Service Image Styling - MOBILE */
.service_image {
  width: 100%; /* Fill the container's width */
  height: 100%; /* Fill the container's height */
  object-fit: contain; /* Keep aspect ratio and fit within container */
  display: block;
}

/* Specific image positioning (is-topleft, is-bottomright) - adjust as needed */
/* On mobile, they are simply part of the flow, no absolute positioning for top/left/etc. */
.service_image.is-topleft {
  align-self: flex-start;
}

.service_image.is-bottomright {
  align-self: flex-end;
}

/* Mobile Meta Description */
.service_meta_mobile {
  display: block; /* Show on mobile */
  text-align: center;
  margin-top: 1rem;
  padding: 0 1rem;
}

/* Desktop Meta Description */
.service_meta {
  display: none; /* Hide on mobile by default */
  text-align: right; /* Default alignment */
  max-width: 400px; /* Limit width of meta text */
  padding: 0 1rem;
}

.service_meta.text-align-right {
  text-align: right;
}

/* Service Title Styling */
.service_title {
  width: 100%;
  text-align: center;
  margin: 2rem 0; /* Space around the title */
  line-height: 1; /* Tighter line height for large text */
  z-index: 5;
  flex-shrink: 0; /* Prevent title from shrinking */
}

.heading-style-h1-2 {
  font-family: var(--font-families--heading, sans-serif);
  /* Fluid font size for mobile, scales up nicely */
  font-size: clamp(2.5rem, 8vw, 4rem); /* Smaller base, scales more aggressively */
  font-weight: 800; /* Extra bold */
  color: #ffffff;
  line-height: 1; /* Ensure tight line height */
  letter-spacing: -0.02em;
  white-space: normal; /* Allow text to wrap on mobile */
}

.heading-style-h1-2 br {
  display: initial; /* By default, allow line breaks if needed for spacing */
}

.heading-style-h1-2 span { /* For the &nbsp; spacing */
  display: inline-block;
}

.text-height-100 {
  line-height: 1; /* Ensure line height is tight */
}

.bodytext-style-bt1 {
  font-family: var(--font-families--body, sans-serif);
  font-size: clamp(0.9rem, 2.5vw, 1.1rem); /* Responsive font size for body text */
  line-height: 1.6;
  color: var(--_colors---neutral--n500, #9e9e9e);
}


/* --- Responsive Media Queries --- */

/* Tablet devices (768px to 1024px) */
@media (min-width: 768px) {
  .service-items-container {
    padding: 6rem 2rem; /* More padding for tablets */
    gap: 6rem; /* Increase gap between items */
  }

  .service {
    flex-direction: row; /* Layout in a row */
    justify-content: space-between; /* Space out content */
    align-items: center; /* Vertically align items */
    min-height: 60vh; /* Adjust height for tablets */
    padding: 3rem 2rem;
  }

  .service-inner-wrapper {
    flex-direction: row; /* Layout top, title, bottom in a row */
    gap: 1rem; /* Adjust gap for row layout */
  }

  /* Alternating layout for service blocks */
  .service._1 .service-inner-wrapper,
  .service._3 .service-inner-wrapper { /* Image-Title-Image layout */
    /* default flex-direction: row from parent */
  }

  .service._2 .service-inner-wrapper { /* Image-Title-Image layout, but reversed content order */
    flex-direction: row-reverse; /* Reverse order for the middle item */
  }

  .service_top,
  .service_bottom {
    flex: 1; /* Each takes equal space */
    padding: 0; /* Remove padding from top/bottom sections */
    height: auto; /* Allow height to be determined by aspect-ratio */
    min-height: unset; /* Remove min-height from mobile */
    aspect-ratio: 1 / 1; /* Make image sections square */
    overflow: hidden; /* Hide parts of image if object-fit: cover crops */
  }

  /* Service Image Styling - TABLET & DESKTOP */
  .service_image {
    position: absolute; /* Position images absolutely within their top/bottom containers */
    top: 0;
    left: 0;
    width: 100%; /* Fill container */
    height: 100%; /* Fill container */
    object-fit: cover; /* Cover the area, cropping if necessary */
    object-position: center; /* Center the image within the cover */
  }

  .service_title {
    flex: 1.2; /* Title takes slightly more space than images */
    margin: 0 2rem; /* Horizontal margin around title */
    text-align: center; /* Center title */
  }

  .heading-style-h1-2 {
    font-size: clamp(4rem, 6vw, 6rem); /* Larger font for tablets, good range */
    white-space: normal; /* Allow text to wrap if needed */
  }

  .heading-style-h1-2 br {
    display: initial; /* Show <br> for controlled line breaks */
  }

  .service_meta_mobile {
    display: none; /* Hide mobile meta */
  }

  .service_meta {
    display: block; /* Show desktop meta */
    flex: 1; /* Take available space */
    text-align: right; /* Default alignment */
    padding: 0 1rem;
  }

  .service._2 .service_meta { /* Adjust meta alignment for reversed block */
    text-align: left;
  }
}

/* Desktop devices (1025px and up) */
@media (min-width: 1025px) {
  .service-items-container {
    padding: 8rem 4rem; /* More padding for desktop */
    gap: 8rem; /* Even more space between items */
  }

  .service {
    min-height: 80vh; /* Taller blocks for desktop */
    padding: 4rem 3rem;
  }

  .service_top,
  .service_bottom {
    flex: 1; /* Each image section takes 1 part */
    aspect-ratio: 1 / 1; /* Still square, or adjust as needed for desktop */
  }

  .service_title {
    flex: 1.5; /* Title takes 1.5 parts, giving it prominence */
    margin: 0 4rem;
  }

  .heading-style-h1-2 {
    font-size: clamp(5rem, 5vw, 9rem); /* Even larger font for desktop, good range */
  }

  .bodytext-style-bt1 {
    font-size: clamp(1rem, 1vw, 1.2rem); /* Slightly larger and more fluid for desktop */
  }
}

/* Extra Large devices (1400px and up) - Optional */
@media (min-width: 1400px) {
  .service-items-container {
    padding: 10rem 6rem;
  }

  .service {
    min-height: 90vh;
  }

  .heading-style-h1-2 {
    font-size: clamp(7rem, 4vw, 11rem); /* Max font size */
  }
}